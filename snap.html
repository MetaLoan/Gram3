<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ¯æ—¥èµ„è®¯</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
      * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
      }
      
      body {
          background: #1a1a1a;
          color: #fff;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
          font-size: 20px;
          padding: 30px 20px;
      }
      
      body.rtl {
          direction: rtl;
      }
      
      .container {
          width: 1200px;
          max-width: 1200px;
          margin: 0 auto;
      }
      
      .input-section {
          background: rgba(255, 255, 255, 0.05);
          padding: 24px;
          border-radius: 12px;
          margin-bottom: 32px;
      }
      
      .input-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 15px;
          flex-wrap: wrap;
          gap: 10px;
      }
      
      .input-title {
          font-size: 24px;
          font-weight: bold;
          color: #f5a623;
      }
      
      .controls {
          display: flex;
          gap: 10px;
          flex-wrap: wrap;
      }
      
      .lang-selector {
          background: #2a2a2a;
          color: #fff;
          border: 2px solid #444;
          border-radius: 8px;
          padding: 10px 18px;
          font-size: 16px;
          cursor: pointer;
          transition: all 0.3s;
      }
      
      .lang-selector:hover {
          border-color: #f5a623;
      }
      
      #dataInput {
          width: 100%;
          min-height: 300px;
          background: #2a2a2a;
          color: #fff;
          border: 2px solid #444;
          border-radius: 8px;
          padding: 15px;
          font-family: 'Courier New', monospace;
          font-size: 16px;
          resize: vertical;
      }
      
      #dataInput:focus {
          outline: none;
          border-color: #f5a623;
      }
      
      .button-group {
          margin-top: 15px;
          display: flex;
          gap: 10px;
          flex-wrap: wrap;
      }
      
      .btn {
          background: linear-gradient(90deg, #f5a623 0%, #ff6b00 100%);
          color: #fff;
          border: none;
          padding: 14px 34px;
          border-radius: 8px;
          font-size: 18px;
          font-weight: bold;
          cursor: pointer;
          transition: all 0.3s;
      }
      
      .btn:hover {
          transform: translateY(-2px);
          box-shadow: 0 5px 15px rgba(245, 166, 35, 0.4);
      }
      
      .btn-secondary {
          background: linear-gradient(90deg, #4a90e2 0%, #357abd 100%);
      }
      
      .btn-secondary:hover {
          box-shadow: 0 5px 15px rgba(74, 144, 226, 0.4);
      }
      
      #contentArea {
          width: 1200px;
          background: #1a1a1a;
          color: #fff;
          padding: 32px;
          border-radius: 12px;
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          grid-template-areas:
              "header header"
              "stats stats"
              "cards cards"
              "news news";
          gap: 32px;
      }
      
      .header {
          grid-area: header;
          display: flex;
          justify-content: space-between;
          align-items: center;
      }
      
      .logo {
          font-size: 32px;
          font-weight: bold;
          color: #f5a623;
          max-width: 30%;
          flex: 0 1 30%;
          white-space: normal;
          overflow-wrap: break-word;
          word-break: break-word;
      }
      
      .title-section {
          text-align: right;
      }
      
      body.rtl .title-section {
          text-align: left;
      }
      
      .main-title {
          font-size: 44px;
          font-weight: bold;
          margin-bottom: 5px;
          color: #fff;
      }
      
      .date {
          font-size: 22px;
          color: #999;
      }
      
      .stats-section {
          grid-area: stats;
          display: flex;
          justify-content: center;
          align-items: center;
      }
      
      .gauge-section {
          display: flex;
          flex-direction: column;
          align-items: center;
      }
      
      .gauge-container {
          position: relative;
          width: 220px;
          height: 130px;
          margin-bottom: 12px;
      }
      
      .gauge {
          width: 100%;
          height: 100%;
      }
      
      .gauge-needle {
          position: absolute;
          bottom: 18px;
          left: 50%;
          width: 6px;
          height: 90px;
          background: #fff;
          transform-origin: bottom center;
          transform: translateX(-50%) rotate(0deg);
          border-radius: 2px;
          transition: transform 0.5s ease-out;
          box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
      }
      
      .gauge-center {
          position: absolute;
          bottom: 15px;
          left: 50%;
          width: 12px;
          height: 12px;
          background: #fff;
          border-radius: 50%;
          transform: translateX(-50%);
          box-shadow: 0 0 8px rgba(255, 255, 255, 0.8);
      }
      
      .gauge-label {
          font-size: 24px;
          font-weight: bold;
          text-align: center;
          color: #fff;
      }
      
      .gauge-value {
          color: #f5a623;
          font-size: 32px;
      }
      
      .coins-section {
          grid-area: cards;
          display: grid;
          grid-template-columns: repeat(2, minmax(0, 1fr));
          gap: 24px;
      }
      
      .coin-category {
          background: rgba(255, 255, 255, 0.05);
          padding: 18px;
          border-radius: 12px;
          color: #fff;
      }
      
      .category-title {
          font-size: 28px;
          font-weight: bold;
          margin-bottom: 16px;
          display: flex;
          align-items: center;
          color: #fff;
      }
      
      .category-title::before {
          content: '';
          width: 12px;
          height: 12px;
          background: #f5a623;
          border-radius: 50%;
          margin-right: 10px;
      }
      
      body.rtl .category-title::before {
          margin-right: 0;
          margin-left: 10px;
      }
      
      .coin-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px 0;
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
          color: #fff;
      }
      
      .coin-item:last-child {
          border-bottom: none;
      }
      
      .coin-info {
          display: flex;
          align-items: center;
      }
      
      .coin-icon {
          width: 52px;
          height: 52px;
          border-radius: 50%;
          margin-right: 15px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: bold;
          font-size: 22px;
          overflow: hidden;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          position: relative;
      }
      
      body.rtl .coin-icon {
          margin-right: 0;
          margin-left: 15px;
      }
      
      .coin-icon img {
          width: 100%;
          height: 100%;
          object-fit: cover;
      }
      
      .coin-icon-text {
          color: #fff;
          font-size: 20px;
          font-weight: bold;
      }
      
      .coin-name {
          font-size: 26px;
          font-weight: bold;
          color: #f5a623;
      }
      
      .coin-full-name {
          font-size: 18px;
          color: #999;
          margin-left: 8px;
          unicode-bidi: isolate;
          direction: ltr;
      }
      
      body.rtl .coin-full-name {
          margin-left: 0;
          margin-right: 8px;
      }
      
      /* ç‰¹æ®Šå¤„ç†é˜¿æ‹‰ä¼¯è¯­ä¸­çš„æ‹¬å· */
      body.rtl .coin-full-name::before {
          content: "\200E(";
      }
      
      body.rtl .coin-full-name::after {
          content: ")\200E";
      }
      
      body:not(.rtl) .coin-full-name::before {
          content: "(";
      }
      
      body:not(.rtl) .coin-full-name::after {
          content: ")";
      }
      
      .coin-price {
          font-size: 30px;
          font-weight: bold;
          color: #fff;
      }
      
      .coin-change {
          font-size: 30px;
          font-weight: bold;
          color: #fff;
      }
      
      .positive {
          color: #4cd964;
      }
      
      .news-section {
          grid-area: news;
          background: linear-gradient(135deg, #f5a623 0%, #ff8c00 100%);
          padding: 22px;
          border-radius: 16px;
          position: relative;
      }
      
      .news-title {
          display: inline-flex;
          align-items: center;
          background: #000;
          padding: 12px 24px;
          border-radius: 25px;
          font-size: 26px;
          font-weight: bold;
          margin-bottom: 16px;
          color: #fff;
      }
      
      .news-title::before {
          content: '';
          width: 12px;
          height: 12px;
          background: #f5a623;
          border-radius: 50%;
          margin-right: 10px;
      }
      
      body.rtl .news-title::before {
          margin-right: 0;
          margin-left: 10px;
      }
      
      .news-item {
          color: #000;
          font-size: 32px;
          line-height: 1.4;
          margin-bottom: 10px;
          font-weight: bold;
      }
      
      .news-item:last-child {
          margin-bottom: 0;
      }
      
      @media (max-width: 1240px) {
          .container,
          #contentArea {
              width: 100%;
              max-width: 100%;
          }
          
          #contentArea {
              grid-template-columns: 1fr;
              grid-template-areas:
                  "header"
                  "stats"
                  "cards"
                  "news";
          }
          
          .coins-section {
              grid-template-columns: 1fr;
          }
      }
      
      @media (max-width: 768px) {
          .coins-section {
              grid-template-columns: 1fr;
          }
          
          .input-header {
              flex-direction: column;
              align-items: flex-start;
          }
      }
  </style>
</head>
<body>
  <div class="container">
      <div class="input-section">
          <div class="input-header">
              <div class="input-title">ğŸ“ <span data-lang="input_title">æ•°æ®è¾“å…¥åŒº</span></div>
              <div class="controls">
                  <select class="lang-selector" id="langSelector" onchange="switchLanguage()">
                      <option value="zh-CN">ä¸­æ–‡ç®€ä½“</option>
                      <option value="zh-TW">ä¸­æ–‡ç¹é«”</option>
                      <option value="en">English</option>
                      <option value="ja">æ—¥æœ¬èª</option>
                      <option value="ko">í•œêµ­ì–´</option>
                      <option value="vi">Tiáº¿ng Viá»‡t</option>
                      <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                      <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                  </select>
              </div>
          </div>
          <textarea id="dataInput" data-lang-placeholder="input_placeholder"></textarea>
          <div class="button-group">
              <button class="btn" onclick="updateContent()">ğŸ”„ <span data-lang="btn_update">æ›´æ–°å†…å®¹</span></button>
              <button class="btn btn-secondary" onclick="exportImage()">ğŸ“¸ <span data-lang="btn_export">å¯¼å‡ºå›¾ç‰‡</span></button>
          </div>
      </div>

      <div id="contentArea">
          <div class="header">
              <div class="logo" id="platform">WEEX</div>
              <div class="title-section">
                  <div class="main-title" data-lang="daily_news">æ¯æ—¥èµ„è®¯</div>
                  <div class="date" id="date">å‘¨äºŒ 10/28 2025å¹´</div>
              </div>
          </div>
          
          <div class="stats-section">
              <div class="gauge-section">
                  <div class="gauge-container">
                      <svg class="gauge" viewBox="0 0 200 120">
                          <defs>
                              <linearGradient id="redGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                  <stop offset="0%" style="stop-color:#ff4444;stop-opacity:1" />
                                  <stop offset="100%" style="stop-color:#ff6b6b;stop-opacity:1" />
                              </linearGradient>
                              <linearGradient id="yellowGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                  <stop offset="0%" style="stop-color:#ffaa00;stop-opacity:1" />
                                  <stop offset="100%" style="stop-color:#ffd93d;stop-opacity:1" />
                              </linearGradient>
                              <linearGradient id="greenGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                  <stop offset="0%" style="stop-color:#6bcf7f;stop-opacity:1" />
                                  <stop offset="100%" style="stop-color:#4cd964;stop-opacity:1" />
                              </linearGradient>
                          </defs>
                          <path d="M 30 100 A 70 70 0 0 1 85 35" 
                                fill="none" 
                                stroke="url(#redGradient)" 
                                stroke-width="18" 
                                stroke-linecap="round"/>
                          <path d="M 85 35 A 70 70 0 0 1 115 35" 
                                fill="none" 
                                stroke="url(#yellowGradient)" 
                                stroke-width="18" 
                                stroke-linecap="round"/>
                          <path d="M 115 35 A 70 70 0 0 1 170 100" 
                                fill="none" 
                                stroke="url(#greenGradient)" 
                                stroke-width="18" 
                                stroke-linecap="round"/>
                      </svg>
                      <div class="gauge-needle" id="gaugeNeedle"></div>
                      <div class="gauge-center"></div>
                  </div>
                  <div class="gauge-label">
                      <span data-lang="fear_greed_index">ææ€–ä¸è´ªå©ªæŒ‡æ•°</span>: <span class="gauge-value" id="fearGreedIndex">51</span>
                  </div>
              </div>
          </div>
          
          <div class="coins-section">
              <div class="coin-category">
                  <div class="category-title" data-lang="hot_coins">çƒ­é—¨å¸ç§</div>
                  <div class="coin-item">
                      <div class="coin-info">
                          <div class="coin-icon" id="btcIcon" data-symbol="BTC">
                              <span class="coin-icon-text">B</span>
                          </div>
                          <div>
                              <span class="coin-name">BTC</span>
                              <span class="coin-full-name">Bitcoin</span>
                          </div>
                      </div>
                      <div class="coin-price" id="btcPrice">$114,063</div>
                  </div>
                  <div class="coin-item">
                      <div class="coin-info">
                          <div class="coin-icon" id="ethIcon" data-symbol="ETH">
                              <span class="coin-icon-text">E</span>
                          </div>
                          <div>
                              <span class="coin-name">ETH</span>
                              <span class="coin-full-name">Ethereum</span>
                          </div>
                      </div>
                      <div class="coin-price" id="ethPrice">$4,118</div>
                  </div>
              </div>
              
              <div class="coin-category">
                  <div class="category-title" data-lang="top_gainers">æœ€å¤§æ¶¨å¹…å¸ç§</div>
                  <div class="coin-item">
                      <div class="coin-info">
                          <div class="coin-icon" id="gainer1Icon" data-symbol="VULT">
                              <span class="coin-icon-text">V</span>
                          </div>
                          <div>
                              <span class="coin-name" id="vultSymbol">VULT</span>
                              <span class="coin-full-name" id="vultName">Vultisig</span>
                          </div>
                      </div>
                      <div class="coin-change positive" id="vultChange">+150%</div>
                  </div>
                  <div class="coin-item">
                      <div class="coin-info">
                          <div class="coin-icon" id="gainer2Icon" data-symbol="AMIKO">
                              <span class="coin-icon-text">A</span>
                          </div>
                          <div>
                              <span class="coin-name" id="amikoSymbol">AMIKO</span>
                              <span class="coin-full-name" id="amikoName">Amiko</span>
                          </div>
                      </div>
                      <div class="coin-change positive" id="amikoChange">+120%</div>
                  </div>
              </div>
          </div>
          
          <div class="news-section">
              <div class="news-title" data-lang="market_news">è¡Œæƒ…æ—©æŠ¥</div>
              <div id="newsContainer">
                  <div class="news-item">1.ç¾è”å‚¨10æœˆé™æ¯25ä¸ªåŸºç‚¹çš„æ¦‚ç‡ä¸º97.3%</div>
                  <div class="news-item">2.MegaETHå…¬å”®ç›®å‰å·²å‹Ÿé›†4.05äº¿ç¾å…ƒï¼Œè¶…é¢è®¤è´­8.1å€</div>
                  <div class="news-item">3.é©¬æ–¯å…‹ï¼šGrokipedia v0.1ç°å·²ä¸Šçº¿</div>
                  <div class="news-item">4.ç°åº¦å®£å¸ƒå…¶Solanaä¿¡æ‰˜å·²æ”¯æŒè´¨æŠ¼åŠŸèƒ½</div>
                  <div class="news-item">5.è´è±å¾·çš„IBITä»…ç”¨341å¤©å·²è¾¾åˆ°700äº¿ç¾å…ƒèµ„äº§ç®¡ç†è§„æ¨¡</div>
                  <div class="news-item">6.é¦™æ¸¯è¯ç›‘ä¼šå¯åŠ¨è™šæ‹Ÿèµ„äº§äº¤æ˜“ç›‘æ§ç³»ç»Ÿæ‹›æ ‡</div>
                  <div class="news-item">7.èŠ±æ——é“¶è¡Œä¸Coinbaseåˆä½œï¼Œæ¢ç´¢ä¸ºå®¢æˆ·æä¾›ç¨³å®šå¸æ”¯ä»˜</div>
                  <div class="news-item">8.ç‰¹æœ—æ™®æ”¯æŒçš„ç¨³å®šå¸USD1ä¸Ensoè¾¾æˆåˆä½œï¼Œä»¥æ‹“å±•å…¶åœ¨å„é“¾ä¸Šçš„DeFiä¸šåŠ¡ç‰ˆå›¾</div>
              </div>
          </div>
      </div>
  </div>
  
  <script>
      // ä»£å¸IDæ˜ å°„è¡¨ï¼ˆCoinMarketCap IDï¼‰
      const coinIdMap = {
          'BTC': 1,
          'ETH': 1027,
          'USDT': 825,
          'BNB': 1839,
          'SOL': 5426,
          'USDC': 3408,
          'XRP': 52,
          'DOGE': 74,
          'ADA': 2010,
          'TRX': 1958,
          'AVAX': 5805,
          'SHIB': 5994,
          'DOT': 6636,
          'LINK': 1975,
          'MATIC': 3890,
          'UNI': 7083,
          'LTC': 2,
          'BCH': 1831,
          'ATOM': 3794,
          'XLM': 512,
          'ETC': 1321,
          'FIL': 2280,
          'APT': 21794,
          'ARB': 11841,
          'OP': 11840,
          'SUI': 20947,
          'PEPE': 24478,
          'WIF': 28752,
          'BONK': 23095,
          'FLOKI': 10804
      };
      
      // ä»£å¸å›¾æ ‡ç¼“å­˜
      const iconCache = {};
      
      // è·å–ä»£å¸å›¾æ ‡
      async function getCoinIcon(symbol) {
          symbol = symbol.toUpperCase();
          
          // å¦‚æœå·²ç¼“å­˜ï¼Œç›´æ¥è¿”å›
          if (iconCache[symbol]) {
              return iconCache[symbol];
          }
          
          try {
              // ä» CoinGecko è·å–
              const response = await fetch(`https://api.coingecko.com/api/v3/search?query=${symbol}`);
              const data = await response.json();
              
              if (data.coins && data.coins.length > 0) {
                  // æ‰¾åˆ°åŒ¹é…çš„å¸ç§
                  const coin = data.coins.find(c => c.symbol.toUpperCase() === symbol);
                  if (coin && coin.large) {
                      // ä½¿ç”¨ wsrv.nl ä½œä¸ºå›¾ç‰‡ä»£ç†
                      const proxyUrl = `https://wsrv.nl/?url=${encodeURIComponent(coin.large)}&default=data:image/svg+xml,${encodeURIComponent(
                          `<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
                              <text x="50%" y="50%" font-size="20" text-anchor="middle" dy=".35em" fill="white">${symbol.charAt(0)}</text>
                          </svg>`
                      )}`;
                      
                      iconCache[symbol] = proxyUrl;
                      return proxyUrl;
                  }
              }
          } catch (error) {
              console.log(`æ— æ³•è·å– ${symbol} çš„å›¾æ ‡ï¼Œä½¿ç”¨é¦–å­—æ¯`);
          }
          
          // å¦‚æœè·å–å¤±è´¥ï¼Œè¿”å› nullï¼ˆä½¿ç”¨é¦–å­—æ¯ï¼‰
          return null;
      }
      
      // æ›´æ–°å¸ç§å›¾æ ‡
      async function updateCoinIcon(iconElementId, symbol) {
          const iconElement = document.getElementById(iconElementId);
          if (!iconElement) return;
          
          const iconUrl = await getCoinIcon(symbol);
          
          if (iconUrl) {
              // åˆ›å»ºå›¾ç‰‡å…ƒç´ 
              const img = document.createElement('img');
              img.style.width = '100%';
              img.style.height = '100%';
              img.style.objectFit = 'cover';
              
              // è®¾ç½®åŠ è½½å’Œé”™è¯¯å¤„ç†
              img.onload = () => {
                  iconElement.innerHTML = '';
                  iconElement.appendChild(img);
              };
              
              img.onerror = () => {
                  iconElement.innerHTML = `<span class="coin-icon-text">${symbol.charAt(0).toUpperCase()}</span>`;
              };
              
              // è®¾ç½®å›¾ç‰‡æº
              img.src = iconUrl;
          } else {
              iconElement.innerHTML = `<span class="coin-icon-text">${symbol.charAt(0).toUpperCase()}</span>`;
          }
      }
      
      // ç”Ÿæˆéšæœºæ¸å˜è‰²
      function getRandomGradient() {
          const gradients = [
              'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
              'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',
              'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
              'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',
              'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',
              'linear-gradient(135deg, #30cfd0 0%, #330867 100%)',
              'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)',
              'linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)',
              'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)',
              'linear-gradient(135deg, #ff6e7f 0%, #bfe9ff 100%)'
          ];
          return gradients[Math.floor(Math.random() * gradients.length)];
      }
      
      // å¤šè¯­è¨€ç¿»è¯‘é…ç½®
      const translations = {
          'zh-CN': {
              input_title: 'æ•°æ®è¾“å…¥åŒº',
              input_placeholder: 'åœ¨æ­¤ç²˜è´´æ‚¨çš„æ•°æ®...\n\nç¤ºä¾‹æ ¼å¼ï¼š\n[date] 2025-10-28\n[platform] WEEX\n[fear_greed_index] 51\n\n[hot_coins]\n  [BTC_price] $114,063\n  [ETH_price] $4,118\n\n[top_gainers]\n  [token1_symbol] VULT\n  [token1_name] Vultisig\n  [token1_change] +150%\n  [token2_symbol] AMIKO\n  [token2_name] Amiko\n  [token2_change] +120%\n\n[market_news]\n  [news_1] æ–°é—»å†…å®¹1\n  [news_2] æ–°é—»å†…å®¹2\n  ...',
              btn_update: 'æ›´æ–°å†…å®¹',
              btn_export: 'å¯¼å‡ºå›¾ç‰‡',
              daily_news: 'æ¯æ—¥èµ„è®¯',
              fear_greed_index: 'ææ€–ä¸è´ªå©ªæŒ‡æ•°',
              hot_coins: 'çƒ­é—¨å¸ç§',
              top_gainers: 'æœ€å¤§æ¶¨å¹…å¸ç§',
              market_news: 'è¡Œæƒ…æ—©æŠ¥'
          },
          'zh-TW': {
              input_title: 'æ•¸æ“šè¼¸å…¥å€',
              input_placeholder: 'åœ¨æ­¤ç²˜è²¼æ‚¨çš„æ•¸æ“š...\n\nç¤ºä¾‹æ ¼å¼ï¼š\n[date] 2025-10-28\n[platform] WEEX\n[fear_greed_index] 51\n\n[hot_coins]\n  [BTC_price] $114,063\n  [ETH_price] $4,118\n\n[top_gainers]\n  [VULT_symbol] VULT\n  [VULT_name] Vultisig\n  [VULT_change] +150%\n  [AMIKO_symbol] AMIKO\n  [AMIKO_name] Amiko\n  [AMIKO_change] +120%\n\n[market_news]\n  [news_1] æ–°èå…§å®¹1\n  [news_2] æ–°èå…§å®¹2\n  ...',
              btn_update: 'æ›´æ–°å…§å®¹',
              btn_export: 'å°å‡ºåœ–ç‰‡',
              daily_news: 'æ¯æ—¥è³‡è¨Š',
              fear_greed_index: 'ææ‡¼èˆ‡è²ªå©ªæŒ‡æ•¸',
              hot_coins: 'ç†±é–€å¹£ç¨®',
              top_gainers: 'æœ€å¤§æ¼²å¹…å¹£ç¨®',
              market_news: 'è¡Œæƒ…æ—©å ±'
          },
          'en': {
              input_title: 'Data Input',
              input_placeholder: 'Paste your data here...\n\nExample format:\n[date] 2025-10-28\n[platform] WEEX\n[fear_greed_index] 51\n\n[hot_coins]\n  [BTC_price] $114,063\n  [ETH_price] $4,118\n\n[top_gainers]\n  [VULT_symbol] VULT\n  [VULT_name] Vultisig\n  [VULT_change] +150%\n  [AMIKO_symbol] AMIKO\n  [AMIKO_name] Amiko\n  [AMIKO_change] +120%\n\n[market_news]\n  [news_1] News content 1\n  [news_2] News content 2\n  ...',
              btn_update: 'Update',
              btn_export: 'Export Image',
              daily_news: 'Daily News',
              fear_greed_index: 'Fear & Greed Index',
              hot_coins: 'Hot Coins',
              top_gainers: 'Top Gainers',
              market_news: 'Market News'
          },
          'ja': {
              input_title: 'ãƒ‡ãƒ¼ã‚¿å…¥åŠ›',
              input_placeholder: 'ã“ã“ã«ãƒ‡ãƒ¼ã‚¿ã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„...\n\nä¾‹ï¼š\n[date] 2025-10-28\n[platform] WEEX\n[fear_greed_index] 51\n\n[hot_coins]\n  [BTC_price] $114,063\n  [ETH_price] $4,118\n\n[top_gainers]\n  [VULT_symbol] VULT\n  [VULT_name] Vultisig\n  [VULT_change] +150%\n  [AMIKO_symbol] AMIKO\n  [AMIKO_name] Amiko\n  [AMIKO_change] +120%\n\n[market_news]\n  [news_1] ãƒ‹ãƒ¥ãƒ¼ã‚¹å†…å®¹1\n  [news_2] ãƒ‹ãƒ¥ãƒ¼ã‚¹å†…å®¹2\n  ...',
              btn_update: 'æ›´æ–°',
              btn_export: 'ç”»åƒå‡ºåŠ›',
              daily_news: 'ãƒ‡ã‚¤ãƒªãƒ¼ãƒ‹ãƒ¥ãƒ¼ã‚¹',
              fear_greed_index: 'ææ€–ã¨è²ªæ¬²æŒ‡æ•°',
              hot_coins: 'äººæ°—ã‚³ã‚¤ãƒ³',
              top_gainers: 'ä¸Šæ˜‡ç‡ãƒˆãƒƒãƒ—',
              market_news: 'å¸‚å ´ãƒ‹ãƒ¥ãƒ¼ã‚¹'
          },
          'ko': {
              input_title: 'ë°ì´í„° ì…ë ¥',
              input_placeholder: 'ì—¬ê¸°ì— ë°ì´í„°ë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”...\n\nì˜ˆì‹œ:\n[date] 2025-10-28\n[platform] WEEX\n[fear_greed_index] 51\n\n[hot_coins]\n  [BTC_price] $114,063\n  [ETH_price] $4,118\n\n[top_gainers]\n  [VULT_symbol] VULT\n  [VULT_name] Vultisig\n  [VULT_change] +150%\n  [AMIKO_symbol] AMIKO\n  [AMIKO_name] Amiko\n  [AMIKO_change] +120%\n\n[market_news]\n  [news_1] ë‰´ìŠ¤ ë‚´ìš©1\n  [news_2] ë‰´ìŠ¤ ë‚´ìš©2\n  ...',
              btn_update: 'ì—…ë°ì´íŠ¸',
              btn_export: 'ì´ë¯¸ì§€ ë‚´ë³´ë‚´ê¸°',
              daily_news: 'ì¼ì¼ ë‰´ìŠ¤',
              fear_greed_index: 'ê³µí¬ íƒìš• ì§€ìˆ˜',
              hot_coins: 'ì¸ê¸° ì½”ì¸',
              top_gainers: 'ìµœëŒ€ ìƒìŠ¹',
              market_news: 'ì‹œì¥ ë‰´ìŠ¤'
          },
          'vi': {
              input_title: 'Nháº­p dá»¯ liá»‡u',
              input_placeholder: 'DÃ¡n dá»¯ liá»‡u cá»§a báº¡n táº¡i Ä‘Ã¢y...\n\nVÃ­ dá»¥:\n[date] 2025-10-28\n[platform] WEEX\n[fear_greed_index] 51\n\n[hot_coins]\n  [BTC_price] $114,063\n  [ETH_price] $4,118\n\n[top_gainers]\n  [VULT_symbol] VULT\n  [VULT_name] Vultisig\n  [VULT_change] +150%\n  [AMIKO_symbol] AMIKO\n  [AMIKO_name] Amiko\n  [AMIKO_change] +120%\n\n[market_news]\n  [news_1] Ná»™i dung tin tá»©c 1\n  [news_2] Ná»™i dung tin tá»©c 2\n  ...',
              btn_update: 'Cáº­p nháº­t',
              btn_export: 'Xuáº¥t hÃ¬nh áº£nh',
              daily_news: 'Tin tá»©c hÃ ng ngÃ y',
              fear_greed_index: 'Chá»‰ sá»‘ sá»£ hÃ£i & tham lam',
              hot_coins: 'Coin phá»• biáº¿n',
              top_gainers: 'TÄƒng máº¡nh nháº¥t',
              market_news: 'Tin thá»‹ trÆ°á»ng'
          },
          'ru': {
              input_title: 'Ğ’Ğ²Ğ¾Ğ´ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…',
              input_placeholder: 'Ğ’ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ´ĞµÑÑŒ...\n\nĞŸÑ€Ğ¸Ğ¼ĞµÑ€:\n[date] 2025-10-28\n[platform] WEEX\n[fear_greed_index] 51\n\n[hot_coins]\n  [BTC_price] $114,063\n  [ETH_price] $4,118\n\n[top_gainers]\n  [VULT_symbol] VULT\n  [VULT_name] Vultisig\n  [VULT_change] +150%\n  [AMIKO_symbol] AMIKO\n  [AMIKO_name] Amiko\n  [AMIKO_change] +120%\n\n[market_news]\n  [news_1] ĞĞ¾Ğ²Ğ¾ÑÑ‚ÑŒ 1\n  [news_2] ĞĞ¾Ğ²Ğ¾ÑÑ‚ÑŒ 2\n  ...',
              btn_update: 'ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ',
              btn_export: 'Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ',
              daily_news: 'Ğ•Ğ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ñ‹Ğµ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸',
              fear_greed_index: 'Ğ˜Ğ½Ğ´ĞµĞºÑ ÑÑ‚Ñ€Ğ°Ñ…Ğ° Ğ¸ Ğ¶Ğ°Ğ´Ğ½Ğ¾ÑÑ‚Ğ¸',
              hot_coins: 'ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ğ¼Ğ¾Ğ½ĞµÑ‚Ñ‹',
              top_gainers: 'Ğ›ÑƒÑ‡ÑˆĞ¸Ğ¹ Ñ€Ğ¾ÑÑ‚',
              market_news: 'Ğ Ñ‹Ğ½Ğ¾Ñ‡Ğ½Ñ‹Ğµ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸'
          },
          'ar': {
              input_title: 'Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
              input_placeholder: 'Ø§Ù„ØµÙ‚ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù‡Ù†Ø§...\n\nÙ…Ø«Ø§Ù„:\n[date] 2025-10-28\n[platform] WEEX\n[fear_greed_index] 51\n\n[hot_coins]\n  [BTC_price] $114,063\n  [ETH_price] $4,118\n\n[top_gainers]\n  [VULT_symbol] VULT\n  [VULT_name] Vultisig\n  [VULT_change] +150%\n  [AMIKO_symbol] AMIKO\n  [AMIKO_name] Amiko\n  [AMIKO_change] +120%\n\n[market_news]\n  [news_1] Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± 1\n  [news_2] Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± 2\n  ...',
              btn_update: 'ØªØ­Ø¯ÙŠØ«',
              btn_export: 'ØªØµØ¯ÙŠØ± Ø§Ù„ØµÙˆØ±Ø©',
              daily_news: 'Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø§Ù„ÙŠÙˆÙ…ÙŠØ©',
              fear_greed_index: 'Ù…Ø¤Ø´Ø± Ø§Ù„Ø®ÙˆÙ ÙˆØ§Ù„Ø¬Ø´Ø¹',
              hot_coins: 'Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©',
              top_gainers: 'Ø§Ù„Ø£Ø¹Ù„Ù‰ Ø§Ø±ØªÙØ§Ø¹Ø§Ù‹',
              market_news: 'Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø³ÙˆÙ‚'
          }
      };
      
      // åˆ‡æ¢è¯­è¨€
      function switchLanguage() {
          const lang = document.getElementById('langSelector').value;
          const trans = translations[lang];
          
          // è®¾ç½®RTLæ–¹å‘ï¼ˆé˜¿æ‹‰ä¼¯è¯­ï¼‰
          if (lang === 'ar') {
              document.body.classList.add('rtl');
          } else {
              document.body.classList.remove('rtl');
          }
          
          // æ›´æ–°æ‰€æœ‰å¸¦æœ‰ data-lang å±æ€§çš„å…ƒç´ 
          document.querySelectorAll('[data-lang]').forEach(elem => {
              const key = elem.getAttribute('data-lang');
              if (trans[key]) {
                  elem.textContent = trans[key];
              }
          });
          
          // æ›´æ–° placeholder
          const input = document.getElementById('dataInput');
          const placeholderKey = input.getAttribute('data-lang-placeholder');
          if (trans[placeholderKey]) {
              input.placeholder = trans[placeholderKey];
          }
      }
      
      // æ›´æ–°ä»ªè¡¨æŒ‡é’ˆä½ç½®
      function updateGauge(value) {
          const needle = document.getElementById('gaugeNeedle');
          const angle = (value / 100) * 180 - 90;
          needle.style.transform = `translateX(-50%) rotate(${angle}deg)`;
      }
      
      // æ ¼å¼åŒ–æ—¥æœŸ
      function formatDate(dateStr) {
          const lang = document.getElementById('langSelector').value;
          const date = new Date(dateStr);
          
          if (lang === 'zh-CN') {
              const weekdays = ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­'];
              const weekday = weekdays[date.getDay()];
              const month = date.getMonth() + 1;
              const day = date.getDate();
              const year = date.getFullYear();
              return `${weekday} ${month}/${day} ${year}å¹´`;
          } else if (lang === 'zh-TW') {
              const weekdays = ['é€±æ—¥', 'é€±ä¸€', 'é€±äºŒ', 'é€±ä¸‰', 'é€±å››', 'é€±äº”', 'é€±å…­'];
              const weekday = weekdays[date.getDay()];
              const month = date.getMonth() + 1;
              const day = date.getDate();
              const year = date.getFullYear();
              return `${weekday} ${month}/${day} ${year}å¹´`;
          } else if (lang === 'ja') {
              const weekdays = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
              const weekday = weekdays[date.getDay()];
              const month = date.getMonth() + 1;
              const day = date.getDate();
              const year = date.getFullYear();
              return `${year}å¹´${month}æœˆ${day}æ—¥ (${weekday})`;
          } else if (lang === 'ko') {
              const weekdays = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
              const weekday = weekdays[date.getDay()];
              const month = date.getMonth() + 1;
              const day = date.getDate();
              const year = date.getFullYear();
              return `${year}ë…„ ${month}ì›” ${day}ì¼ (${weekday})`;
          } else if (lang === 'ar') {
              const weekdays = ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'];
              const weekday = weekdays[date.getDay()];
              const month = date.getMonth() + 1;
              const day = date.getDate();
              const year = date.getFullYear();
              return `${weekday} ${day}/${month} ${year}`;
          } else {
              // English and other languages
              const options = { weekday: 'short', year: 'numeric', month: 'numeric', day: 'numeric' };
              return date.toLocaleDateString(lang, options);
          }
      }
      
      // è§£æè¾“å…¥æ•°æ®
      function parseData(text) {
          const data = {};
          const lines = text.split('\n');
          
          lines.forEach(line => {
              line = line.trim();
              if (!line) return;
              
              const match = line.match(/\[([^\]]+)\]\s*(.+)/);
              if (match) {
                  const key = match[1].trim();
                  let value = match[2].trim();
                  
                  // å¯¹äºplatformæ ‡ç­¾ï¼Œä¿ç•™åŸå§‹ç©ºæ ¼
                  if (key === 'platform') {
                      value = match[2]; // ä¸trimï¼Œä¿ç•™ç©ºæ ¼
                  }
                  
                  data[key] = value;
              }
          });
          
          return data;
      }
      
      // è‡ªåŠ¨æ£€æµ‹è¯­è¨€
      function detectLanguage(text) {
          // æ£€æµ‹é˜¿æ‹‰ä¼¯æ–‡
          if (/[Ø€-Û¿]/.test(text)) {
              return 'ar';
          }
          // æ£€æµ‹ä¿„æ–‡
          if (/[Ğ€-Ó¿]/.test(text)) {
              return 'ru';
          }
          // æ£€æµ‹æ—¥æ–‡
          if (/[ã€-ã‚Ÿã‚ -ãƒ¿]/.test(text)) {
              return 'ja';
          }
          // æ£€æµ‹éŸ©æ–‡
          if (/[ê°€-í¯á„€-á‡¿ã„°-ã†]/.test(text)) {
              return 'ko';
          }
          // æ£€æµ‹è¶Šå—æ–‡ï¼ˆå¸¦å£°è°ƒçš„æ‹‰ä¸å­—æ¯ï¼‰
          if (/[Ã Ã¡áº¡áº£Ã£Ã¢áº§áº¥áº­áº©áº«Äƒáº±áº¯áº·áº³áºµÃ¨Ã©áº¹áº»áº½Ãªá»áº¿á»‡á»ƒá»…Ã¬Ã­á»‹á»‰Ä©Ã²Ã³á»á»ÃµÃ´á»“á»‘á»™á»•á»—Æ¡á»á»›á»£á»Ÿá»¡Ã¹Ãºá»¥á»§Å©Æ°á»«á»©á»±á»­á»¯á»³Ã½á»µá»·á»¹Ä‘]/i.test(text)) {
              return 'vi';
          }
          // æ£€æµ‹ç¹ä½“ä¸­æ–‡ï¼ˆå¸¸ç”¨ç¹ä½“å­—ï¼‰
          if (/[ç¹é«”å¹£ç¨®è³‡è¨Šè²ªå©ªæ¼²å¹…å ±å°]/.test(text)) {
              return 'zh-TW';
          }
          // æ£€æµ‹ç®€ä½“ä¸­æ–‡
          if (/[ä¸€-é¿¿]/.test(text)) {
              return 'zh-CN';
          }
          // é»˜è®¤è‹±æ–‡
          return 'en';
      }
      
      // æ›´æ–°é¡µé¢å†…å®¹
      async function updateContent() {
          const input = document.getElementById('dataInput').value;
          
          // è‡ªåŠ¨æ£€æµ‹å¹¶åˆ‡æ¢è¯­è¨€
          const detectedLang = detectLanguage(input);
          const langSelector = document.getElementById('langSelector');
          if (langSelector.value !== detectedLang) {
              langSelector.value = detectedLang;
              switchLanguage();
          }
          
          const data = parseData(input);
          
          // æ›´æ–°æ—¥æœŸ
          if (data.date) {
              document.getElementById('date').textContent = formatDate(data.date);
          }
          
          // æ›´æ–°å¹³å°åç§°
          if (data.platform) {
              document.getElementById('platform').textContent = data.platform;
          }
          
          // æ›´æ–°ææ€–è´ªå©ªæŒ‡æ•°
          if (data.fear_greed_index) {
              const value = parseInt(data.fear_greed_index);
              document.getElementById('fearGreedIndex').textContent = value;
              updateGauge(value);
          }
          
          // æ›´æ–°BTC
          if (data.BTC_price) {
              document.getElementById('btcPrice').textContent = data.BTC_price;
          }
          await updateCoinIcon('btcIcon', 'BTC');
          
          // æ›´æ–°ETH
          if (data.ETH_price) {
              document.getElementById('ethPrice').textContent = data.ETH_price;
          }
          await updateCoinIcon('ethIcon', 'ETH');
          
          // æ›´æ–°ç¬¬ä¸€ä¸ªæ¶¨å¹…å¸ç§
          if (data.token1_symbol) {
              document.getElementById('vultSymbol').textContent = data.token1_symbol;
              await updateCoinIcon('gainer1Icon', data.token1_symbol);
          }
          if (data.token1_name) {
              document.getElementById('vultName').textContent = data.token1_name;
          }
          if (data.token1_change) {
              document.getElementById('vultChange').textContent = data.token1_change;
          }
          
          // æ›´æ–°ç¬¬äºŒä¸ªæ¶¨å¹…å¸ç§
          if (data.token2_symbol) {
              document.getElementById('amikoSymbol').textContent = data.token2_symbol;
              await updateCoinIcon('gainer2Icon', data.token2_symbol);
          }
          if (data.token2_name) {
              document.getElementById('amikoName').textContent = data.token2_name;
          }
          if (data.token2_change) {
              document.getElementById('amikoChange').textContent = data.token2_change;
          }
          
          // æ›´æ–°æ–°é—»
          const newsContainer = document.getElementById('newsContainer');
          let newsHTML = '';
          for (let i = 1; i <= 20; i++) {
              const newsKey = `news_${i}`;
              if (data[newsKey]) {
                  newsHTML += `<div class="news-item">${i}.${data[newsKey]}</div>`;
              }
          }
          if (newsHTML) {
              newsContainer.innerHTML = newsHTML;
          }
          
          // æ˜¾ç¤ºæˆåŠŸæç¤º
          alert('âœ… ' + (translations[document.getElementById('langSelector').value].btn_update || 'æ›´æ–°æˆåŠŸ') + '!');
      }
      
      // å¯¼å‡ºä¸ºå›¾ç‰‡
      async function exportImage() {
          const contentArea = document.getElementById('contentArea');
          
          try {
              // ç¡®ä¿æ‰€æœ‰å›¾ç‰‡åŠ è½½å®Œæˆ
              const images = Array.from(contentArea.getElementsByTagName('img'));
              await Promise.all(
                  images.map(img => 
                      new Promise((resolve) => {
                          if (img.complete) {
                              resolve();
                          } else {
                              img.onload = resolve;
                              img.onerror = resolve;
                          }
                      })
                  )
              );
              
              // æ·»åŠ å°å»¶è¿Ÿç¡®ä¿æ¸²æŸ“å®Œæˆ
              await new Promise(resolve => setTimeout(resolve, 500));
              
              const canvas = await html2canvas(contentArea, {
                  backgroundColor: '#1a1a1a',
                  scale: 2,
                  useCORS: true,
                  allowTaint: true,
                  imageTimeout: 3000,
                  logging: false
              });
              
              const link = document.createElement('a');
              const timestamp = new Date().getTime();
              link.download = `crypto-daily-news-${timestamp}.png`;
              link.href = canvas.toDataURL('image/png');
              link.click();
              
              alert('âœ… ' + (translations[document.getElementById('langSelector').value].btn_export || 'å¯¼å‡ºæˆåŠŸ') + '!');
          } catch (err) {
              console.error('å¯¼å‡ºå¤±è´¥:', err);
              alert('âŒ å¯¼å‡ºå¤±è´¥ï¼Œè¯·é‡è¯•');
          }
      }
      
      // åˆå§‹åŒ–
      updateGauge(51);
      switchLanguage();
      
      // åˆå§‹åŒ–åŠ è½½é»˜è®¤å¸ç§å›¾æ ‡
      updateCoinIcon('btcIcon', 'BTC');
      updateCoinIcon('ethIcon', 'ETH');
      updateCoinIcon('gainer1Icon', 'VULT');
      updateCoinIcon('gainer2Icon', 'AMIKO');
  </script>
</body>
</html>
